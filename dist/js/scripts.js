!function(e){var n={};function t(o){if(n[o])return n[o].exports;var l=n[o]={i:o,l:!1,exports:{}};return e[o].call(l.exports,l,l.exports,t),l.l=!0,l.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var l in e)t.d(o,l,function(n){return e[n]}.bind(null,l));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";let o,l,c=document.getElementById("usernameInput"),i=document.getElementById("peerIdInput"),r=document.getElementById("connectBtn"),a=document.getElementById("chat"),u=(document.getElementById("sendBtn"),document.getElementById("stateText")),s={Name:"AGoodPeer",Msg:"",Gif:""},d=document.getElementById("messageInput"),m=document.getElementsByClassName("login page"),g=document.getElementsByClassName("chat page"),f=new Peer({key:"lwjd5qra8257b9"}),p=null;var y=new Audio("applause.m4a"),h=new Audio("awesome.mp3");let M,b=document.getElementById("gifImg");function v(){s.Name=c.value,s.Name||(s.Name="AGoodPeer"),p.on("open",(function(){a.innerHTML="connected to: "+p.peer+"<br/>",console.log("connected to: "+p.peer),B()})),p.on("data",(function(e){u.innerHTML="Receiving connection From "+e.Name,console.log("received: "+e.Msg),a.innerHTML+="<b>"+e.Name+"   </b>"+e.Msg,I(e.Gif),h.play()}))}function I(e){b.src=e,b.style.display="initial",setTimeout(()=>b.style.display="none",3e3)}function B(){m[0].style.display="none",g[0].style.display="initial"}fetch("./compliment.json").then(e=>e.json()).then((function(e){o=e,console.log("data: "+e),console.log(o.text[Math.floor(Math.random()*o.length)])})),f.on("open",(function(e){console.log("My peer ID is: "+e),document.getElementById("peerId").innerHTML=e})),f.on("connection",(function(e){console.log("usernameInput:"+c.value),console.log("receiving connection"),p=e,v(),B()})),r.addEventListener("click",(function(){console.log(void 0),p&&p.close();p=f.connect(i.value,{reliable:!0}),console.log("ConnectBtn Clicked"),v()})),window.addEventListener("keypress",(function(e){13==e.keyCode&&function(){p&&p.open?(s.Msg=d.value+". And "+o.text[Math.floor(Math.random()*o.text.length)]+". "+o.emoji[Math.floor(Math.random()*o.emoji.length)]+"<br />",a.innerHTML+="<b>"+s.Name+"   </b>"+s.Msg,fetch("https://api.giphy.com/v1/gifs/search?api_key=lr9zYfx8CnhyAPIlGP3qp1g36zo1MI4p&q=applause&limit=50&offset=0&rating=G&lang=en").then(e=>e.json()).then((function(e){console.log(e),M=e.data[Math.floor(50*Math.random())].images.fixed_height.url,s.Gif=M,I(M),p.send(s)})),y.play(),console.log("msg sent!"),d.value=""):console.log("not connected");l=document.getElementById("chat"),l.scrollTop=l.scrollHeight}()}),!1)}]);